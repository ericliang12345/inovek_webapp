<!DOCTYPE html>
<html lang="en">
        <head>
                <meta charset="utf-8">
                <meta http-equiv="X-UA-Compatible" content="IE=edge">
                <meta name="viewport" content="width=device-width, initial-scale=1">
                <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
                <meta name="description" content="">
                <meta name="author" content="">
            
                <title>Restful Service</title>
            
                <!-- Custom styles for this template -->
                <link href="css/template.css" rel="stylesheet">
                <link href="lib/bootstrap/dist/css/bootstrap.css" rel="stylesheet">
                <link href="css/layoutit.css" rel="stylesheet">
              
                <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
                <!--[if lt IE 9]>
                <script src="js/html5shiv.js"></script>
                <![endif]-->
              
                <script src="lib/jquery/dist/jquery.min.js"></script>
                <script src="js/jquery-ui.js"></script>
                <script src="js/jquery.htmlClean.js"></script>
                <script src="lib/bootstrap/dist/js/bootstrap.min.js"></script>
                <script src="js/scripts.js"></script>
             
                <style>
                    .center {
                    display: block;
                    margin-left: auto;
                    margin-right: auto;
                    width: 50%;
                    }
                </style>
                <script>
                    function Login_Inovtek(){
                        var xhttp = new XMLHttpRequest();
                        var data = {};
                        data.grant_type = 'password';
                        data.username = document.getElementById('accout').value;
                        data.password = document.getElementById('pwd').value;
                        console.log('Post data= ' + JSON.stringify(data));

                        //const url='/v1/oauth2/token';
                        const url='/v1/oauth2/token';
                        xhttp.open("GET", url);
                        xhttp.setRequestHeader("Content-Type", "application/json");                        
                        xhttp.send(JSON.stringify(data));
                        //xhttp.send();

                        xhttp.onreadystatechange = function() {
                            if (xhttp.readyState == 4 && xhttp.status == 200 ) {
                                console.log('Redirect to index.html');
                                location.replace("index.html");
                                document.getElementById("accout").value = this.responseText;
                            } else if ( xhttp.readyState == 4 && xhttp.status != 200 ) {
                                //alert("Account / Password is not correct");
                                location.replace("index.html");
                            }
                        };                        
                    }
                </script> 
              </head>    
              <body>
                    <div class="container" style="height:480px; width:800px;">
                            <div class="center">
                                <img src="images/inovek-logo-160x63.jpg">
                            </div>
                            <form action="" method="post">
                              <div class="form-group">
                                <label for="account">Account:</label>
                                <input type="account" class="form-control" id="accout" placeholder="Enter account">
                              </div>
                              <div class="form-group">
                                <label for="pwd">Password:</label>
                                <input type="password" class="form-control" id="pwd" placeholder="Enter password">
                              </div>
                              <button type="button" onclick="Login_Inovtek()" class="btn btn-default">Login2</button>
                            </form>
                    </div>                  
              </body>                  
</html>